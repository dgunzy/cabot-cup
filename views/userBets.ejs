<%
function convertToAmerican(decimalOdds) {
    if (decimalOdds < 2) {
        return Math.round((-100 / (decimalOdds - 1)));
    } else {
        return "+" + Math.round((decimalOdds - 1) * 100);
    }
}
%>
<div class="container mt-4">
    <h2>Pending and Approved Bets</h2>
    <div class="account-info">
        <h4><%= user.name %></h4>
        <p>Balance: <%= user.balance %></p>

        <% if (user.pendingBets && user.pendingBets.length > 0) { %>
            <h4>Pending Bets</h4>
            <ul>
                <% user.pendingBets.forEach(function(bet) { %>
                    <li>
                        <strong>Horse:</strong> <%= bet.key %>,
                        <strong>Odds:</strong> <%= convertToAmerican(bet.odds) %>,
                        <strong>Wager:</strong> <%= bet.wager %>,
                        <strong>Bet Description:</strong> <%= bet.uniqueDescription %>
                    </li>
                <% }); %>
            </ul>
        <% } else { %>
            <p>No pending bets available.</p>
        <% } %>

        <% if (user.approvedBets && user.approvedBets.length > 0) { %>
            <h4>Approved Bets</h4>
            <ul>
                <% user.approvedBets.forEach(function(bet) { %>
                    <li>
                        <strong>Horse:</strong> <%= bet.key %>,
                        <strong>Odds:</strong> <%= convertToAmerican(bet.odds) %>,
                        <strong>Wager:</strong> <%= bet.wager %>,
                        <strong>Bet Description:</strong> <%= bet.uniqueDescription %>
                    </li>
                <% }); %>
            </ul>
        <% } else { %>
            <p>No approved bets available.</p>
        <% } %>
    </div>
</div>